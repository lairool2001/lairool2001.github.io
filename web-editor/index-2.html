<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta http-equiv="content-language" content="zh-tw">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <title>bgw的前端網頁實驗室</title>
    <style type="text/css">
	#main{
		float:left;
		width:60vw;
		height:95vh;
	}
	#code_html{
		height:45vh;
		width:35vw;
	}
	#code_js{
		height:40vh;
		width:35vw;
	}
    </style>
</head>

<body onKeyDown="body_onkeydown(event)">
	<div id="main"></div><br>
	<div id="editor">
		HTML<br>
		<textarea id="code_html" onKeyDown="textArea_onKeyDown(event)" onInput="textArea_onInput(event)"></textarea><br>
		JS<br>
		<textarea id="code_js" onKeyDown="textArea_onKeyDown(event)" onInput="textArea_onInput(event)"></textarea><br>
		Ctrl+R Update(更新) JS
	</div>
	<script>
		map = {}
		onkeydown = onkeyup = function(e){
			e = e || event; // to deal with IE
			map[e.keyCode] = e.type == 'keydown';
			/* insert conditional here */
			//防止特定按鍵
			if(map[17] && map[82]){
				console.log("save oh...")
				event.cancelBubble = false;
				event.preventDefault()
				eval(code_js.value)
			}
		}
		String.prototype.insert = function(index, string) {
		  if (index > 0)
		  {
			return this.substring(0, index) + string + this.substring(index, this.length);
		  }

		  return string + this;
		};
		function body_onkeydown(event) {
			if(map[17] && map[82]){
			}
		}
		function update(){
		}
		function textArea_onKeyDown(e){
			
		}
		function textArea_onInput(event){
			main.innerHTML=code_html.value
		}
		function removeElement(elementId) {
			// Removes an element from the document
			var element = document.getElementById(elementId);
			if(element != undefined){
				document.body.removeChild(element);
			}
		}
	</script>
	<script>
		
	</script>
</body>

</html>
